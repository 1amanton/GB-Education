<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>.eSTORE</title>
</head>
<body>
    <div id="app">
        <header class="h">
            <div class="h-left">
                <span class="h-logo">.eSTORE</span>
            </div>
    
            <form @submit.prevent="searchFilter()" action="#" class="h-search">
                <input  v-model="userSearch" type="text" placeholder="Search..." class="h-search-field">
                <button type="submit" class="h-search-icon-btn">
                    <i class="fa-solid fa-magnifying-glass h-search-icon"></i>
                </button>
            </form>
    
            
            <div class="h-right">          
                <svg @click="showCart=!showCart" class="h-basket" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.45896 7.62555L0 32H32L30.541 7.62555H1.45896V7.62555ZM3.81867 10.1885H28.1825L29.3345 29.437H2.66548L3.81748 10.1885H3.81867Z" fill="black"/>
                    <path d="M21.5917 7.78886C21.5917 4.89439 19.3019 2.53982 16.4871 2.53982C13.6723 2.53982 11.3825 4.89439 11.3825 7.78886H8.9126C8.9126 3.49408 12.3105 0 16.4871 0C20.6637 0 24.0616 3.49408 24.0616 7.78886H21.5917Z" fill="black"/>
                </svg>
                <span v-show="countCart()" class="h-basket-counter">{{ countCart() }}</span>
                                
            </div>
        </header>
    
        <div v-show="showCart" class="basket">
            <p v-if="!cartProducts.length" class="basket-empty">Корзина пуста</p>

            <div v-for="item of cartProducts" class="basket-product" :key="item.id_product">
                <img class="basket-product-img" :src="image">
                <div class="basket-product-text">
                    <h3 class="basket-product-title">Наименование:<br>{{ item.product_name }}</h3>
                    <p class="basket-product-price">Цена:<br>$ {{ item.price }}</p>
                    <p class="basket-product-quanity">Кол-во:<br>{{ item.quantity }}</p>
                </div>                
                <p class="basket-product-allprice">Сумма:<br>$ {{ item.price*item.quantity }} </p>
                <div @click="removeProduct(item)" class="basket-product-delete">X</div>                    
            </div>
            
        </div>

        <div class="productlist">
            <div v-for="item of filteredProducts" class="product" v-for="item of filteredProducts" :key="item.id_product">
                <p class="product-price">ID: {{ item.id_product}}</p>
                <img class="product-img" :src="image">
                <h3 class="product-title">Название: {{ item.product_name }}</h3>
                <p class="product-price">Цена: {{ item.price }}</p>
                <button class="product-buy" @click="addProduct(item)">Buy!</button>
            </div>
        </div>
    
        <footer class="f">
            <div class="f-left">
                <span class="f-left-year">Since 2022 year</span>
            </div>
    
            <div class="f-right">
                <a href="https://github.com/1amanton" target="_blank">
                    <span class="github">@1amanton.</span>
                </a>
            </div>
        </footer>
    </div>
    

    <script defer src="https://kit.fontawesome.com/ea1bd52125.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script> 
    <script src="./main.js"></script>
</body>
</html>